[gd_scene load_steps=34 format=3 uid="uid://cg6dul6g2cnl5"]

[ext_resource type="Script" uid="uid://fop0iyjxa0tr" path="res://Scripts/Player2.gd" id="1_mkara"]
[ext_resource type="Texture2D" uid="uid://b5uwq4j25mops" path="res://Assets/Shark/Idle1.png" id="2_eus2p"]
[ext_resource type="Texture2D" uid="uid://w4a6aq1xis7j" path="res://Assets/Shark/Idle2.png" id="3_6cafw"]
[ext_resource type="Texture2D" uid="uid://5uecp16w65ve" path="res://Assets/Shark/Idle3.png" id="4_mtyrt"]
[ext_resource type="Texture2D" uid="uid://1oya0touyf5" path="res://Assets/Shark/Idle4.png" id="5_bth63"]
[ext_resource type="Texture2D" uid="uid://bywdxmkyud2bi" path="res://Assets/Shark/Run0.png" id="6_c6poq"]
[ext_resource type="Texture2D" uid="uid://dudn1ls71eaap" path="res://Assets/Shark/Run1.png" id="7_gsfwq"]
[ext_resource type="Texture2D" uid="uid://bn4bijlbkgh8k" path="res://Assets/Shark/Run2.png" id="8_iet35"]
[ext_resource type="Texture2D" uid="uid://47h0aups3fes" path="res://Assets/Shark/Run3.png" id="9_mxbqu"]
[ext_resource type="Texture2D" uid="uid://3pteroggqw3v" path="res://Assets/Shark/Run4.png" id="10_0l2yj"]
[ext_resource type="Texture2D" uid="uid://drj0dno3kw3sa" path="res://Assets/Shark/Run5.png" id="11_x8cua"]
[ext_resource type="Texture2D" uid="uid://cwpkd7isai5js" path="res://Assets/Shark/Run6.png" id="12_s3tad"]
[ext_resource type="Texture2D" uid="uid://cq5o83434n62b" path="res://Assets/Shark/Run7.png" id="13_ne8t6"]
[ext_resource type="Texture2D" uid="uid://dwxwpdedvnta4" path="res://Assets/Shark/Run8.png" id="14_sc7t3"]
[ext_resource type="Texture2D" uid="uid://dj2u0imxvp72i" path="res://Assets/Shark/Run9.png" id="15_mcfkd"]
[ext_resource type="Texture2D" uid="uid://deannimnnf0el" path="res://Assets/Shark/ShootAnim.png" id="16_iet35"]
[ext_resource type="Texture2D" uid="uid://cl6sj1sficr6e" path="res://Assets/Shark/SwimAnim.png" id="17_mxbqu"]

[sub_resource type="AtlasTexture" id="AtlasTexture_0l2yj"]
atlas = ExtResource("16_iet35")
region = Rect2(0, 0, 166, 230)

[sub_resource type="AtlasTexture" id="AtlasTexture_x8cua"]
atlas = ExtResource("16_iet35")
region = Rect2(166, 0, 166, 230)

[sub_resource type="AtlasTexture" id="AtlasTexture_s3tad"]
atlas = ExtResource("16_iet35")
region = Rect2(332, 0, 166, 230)

[sub_resource type="AtlasTexture" id="AtlasTexture_ne8t6"]
atlas = ExtResource("16_iet35")
region = Rect2(498, 0, 166, 230)

[sub_resource type="AtlasTexture" id="AtlasTexture_sc7t3"]
atlas = ExtResource("16_iet35")
region = Rect2(664, 0, 166, 230)

[sub_resource type="AtlasTexture" id="AtlasTexture_mcfkd"]
atlas = ExtResource("16_iet35")
region = Rect2(830, 0, 166, 230)

[sub_resource type="AtlasTexture" id="AtlasTexture_ivfq8"]
atlas = ExtResource("17_mxbqu")
region = Rect2(251, 21, 220, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_bp61h"]
atlas = ExtResource("17_mxbqu")
region = Rect2(503, 21, 220, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_p7u61"]
atlas = ExtResource("17_mxbqu")
region = Rect2(232, 164, 220, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_1g1uu"]
atlas = ExtResource("17_mxbqu")
region = Rect2(503, 166, 220, 100)

[sub_resource type="SpriteFrames" id="SpriteFrames_8os5a"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_eus2p")
}, {
"duration": 1.0,
"texture": ExtResource("3_6cafw")
}, {
"duration": 1.0,
"texture": ExtResource("4_mtyrt")
}, {
"duration": 1.0,
"texture": ExtResource("5_bth63")
}],
"loop": true,
"name": &"Idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_c6poq")
}, {
"duration": 1.0,
"texture": ExtResource("7_gsfwq")
}, {
"duration": 1.0,
"texture": ExtResource("8_iet35")
}, {
"duration": 1.0,
"texture": ExtResource("9_mxbqu")
}, {
"duration": 1.0,
"texture": ExtResource("10_0l2yj")
}, {
"duration": 1.0,
"texture": ExtResource("11_x8cua")
}, {
"duration": 1.0,
"texture": ExtResource("12_s3tad")
}, {
"duration": 1.0,
"texture": ExtResource("13_ne8t6")
}, {
"duration": 1.0,
"texture": ExtResource("14_sc7t3")
}, {
"duration": 1.0,
"texture": ExtResource("15_mcfkd")
}],
"loop": false,
"name": &"Run",
"speed": 15.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0l2yj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x8cua")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s3tad")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ne8t6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sc7t3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mcfkd")
}],
"loop": true,
"name": &"Shoot",
"speed": 15.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ivfq8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ivfq8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bp61h")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bp61h")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_p7u61")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_p7u61")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1g1uu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1g1uu")
}],
"loop": true,
"name": &"Swim",
"speed": 7.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_a3adp"]
radius = 12.0
height = 44.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ivfq8"]
size = Vector2(20, 10.000008)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ivfq8"]
radius = 6.0
height = 44.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bp61h"]
size = Vector2(24, 6)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_bp61h"]
radius = 12.0
height = 44.0

[node name="Player2" type="Node2D" groups=["can_interact_with_water"]]
z_index = 1

[node name="CharacterBody2D" type="CharacterBody2D" parent="."]
collision_layer = 2164260865
collision_mask = 2164260881
script = ExtResource("1_mkara")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="CharacterBody2D"]
position = Vector2(1.8125, 0.9750099)
scale = Vector2(0.258125, 0.25812507)
sprite_frames = SubResource("SpriteFrames_8os5a")
animation = &"Idle"
frame_progress = 0.61915135

[node name="Hitbox" type="CollisionShape2D" parent="CharacterBody2D"]
position = Vector2(0, 2)
shape = SubResource("CapsuleShape2D_a3adp")

[node name="FiringPos" type="Node2D" parent="CharacterBody2D"]
position = Vector2(17, -4)

[node name="CatPlatform" type="CharacterBody2D" parent="CharacterBody2D"]
position = Vector2(0, 4)
collision_mask = 19

[node name="If you want the cat to stay on sharks head then keep this character2D node, if you want cat to fall off make the above node a static body2D" type="Node" parent="CharacterBody2D/CatPlatform"]

[node name="PlatformHitbox" type="CollisionShape2D" parent="CharacterBody2D/CatPlatform"]
position = Vector2(0, -25)
scale = Vector2(1.1677438, 0.07876829)
shape = SubResource("RectangleShape2D_ivfq8")

[node name="RightHurtbox" type="Area2D" parent="CharacterBody2D"]
collision_layer = 8256
collision_mask = 8256

[node name="HurtboxCollision" type="CollisionShape2D" parent="CharacterBody2D/RightHurtbox"]
position = Vector2(7, 0)
shape = SubResource("CapsuleShape2D_ivfq8")

[node name="LeftHurtbox" type="Area2D" parent="CharacterBody2D"]
collision_layer = 8256
collision_mask = 8256

[node name="HurtboxCollision" type="CollisionShape2D" parent="CharacterBody2D/LeftHurtbox"]
position = Vector2(-7, 0)
shape = SubResource("CapsuleShape2D_ivfq8")

[node name="GroundImpactbox" type="Area2D" parent="CharacterBody2D"]
position = Vector2(0, 20)
collision_layer = 1073741824
collision_mask = 1073741824

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D/GroundImpactbox"]
position = Vector2(0, 2)
shape = SubResource("RectangleShape2D_bp61h")

[node name="SwimBox" type="Area2D" parent="CharacterBody2D"]
collision_layer = 4096
collision_mask = 4096

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D/SwimBox"]
position = Vector2(0, 2)
shape = SubResource("CapsuleShape2D_bp61h")

[node name="BulletCooldown" type="Timer" parent="."]
wait_time = 0.5
one_shot = true

[node name="KnockbackTimer" type="Timer" parent="."]
wait_time = 0.2
one_shot = true

[node name="AttackImpactTimer" type="Timer" parent="."]
wait_time = 0.1
one_shot = true

[node name="HitImmunity" type="Timer" parent="."]
wait_time = 1.2
one_shot = true

[connection signal="body_entered" from="CharacterBody2D/RightHurtbox" to="CharacterBody2D" method="_on_hurtbox_body_entered"]
[connection signal="body_entered" from="CharacterBody2D/LeftHurtbox" to="CharacterBody2D" method="_on_left_hurtbox_body_entered"]
[connection signal="body_entered" from="CharacterBody2D/GroundImpactbox" to="CharacterBody2D" method="_on_ground_impactbox_body_entered"]
[connection signal="body_entered" from="CharacterBody2D/SwimBox" to="CharacterBody2D" method="_on_swim_box_body_entered"]
[connection signal="body_exited" from="CharacterBody2D/SwimBox" to="CharacterBody2D" method="_on_swim_box_body_exited"]
